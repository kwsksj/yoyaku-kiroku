---
description: PRまたはブランチのレビューフロー
---

# /review ワークフロー

フィーチャーブランチをレビューし、マージ準備が整っているか確認するフロー。

## 1. 準備

レビュー対象のブランチを確認し、手元に持ってくる。

```bash
git fetch origin
git checkout <branch-name>
git pull origin <branch-name>
```

## 2. 差分の確認

main ブランチとの差分を確認し、変更の意図と内容を把握する。

```bash
# ファイル名のみを確認
git diff main...HEAD --name-only

# 詳細な差分を確認（差分が大きい場合はファイルごとに確認）
git diff main...HEAD -- <file-path>
```

### チェックポイント

#### 必須確認

- [ ] `build-output/` への直接編集がないか（編集は `src/` のみ）
- [ ] `AI_INSTRUCTIONS.md` の禁止事項に違反していないか
  - `import *` / default import / `import { foo as bar }` / 動的 `import()`
- [ ] 不要なコメントアウトやデバッグログ（`console.log` など）が残っていないか

#### 品質確認

- [ ] 意図不明な変更が含まれていないか
- [ ] UI変更時に既存コンポーネント（`Components.*`）を使用しているか
- [ ] デザイン定義（`11_WebApp_Config.js`）をハードコードせず参照しているか

## 3. 静的解析とビルド

コードが技術的に正しいか確認する。

```bash
# 型チェックとLint
npm run validate
```

- エラーが出た場合は、修正を提案するか、簡単な修正であれば修正を行う。

## 4. 動作確認

実際に動かして確認する。

```bash
# テスト環境へのデプロイ
npm run dev
```

デプロイ完了後、ブラウザで以下を確認:

- 変更箇所が意図通りに動作するか
- UIの崩れがないか（特にモバイル表示）
- 既存機能が壊れていないか（回帰テスト）

## 5. レビュー報告

確認結果をユーザーに報告する。

### 報告フォーマット

```markdown
## レビュー結果: [ブランチ名]

### 確認項目

- 静的解析: ✅ / ❌
- 動作確認: ✅ / ❌

### 問題点（あれば）

- [具体的な問題と修正案]

### 総評

[マージ可能 / 修正が必要]
```

## 6. （オプション）修正コミット

軽微な修正を行った場合はコミットしてプッシュする。

```bash
git add .
git commit -m "fix: レビュー指摘事項の修正"
git push origin <branch-name>
```

**マージはユーザーが行う**
