# 📋 Backlog (タスク管理)

## Inbox (未整理メモ)

<!-- ここに思いついたことを自由に書いてください。AIが後で整理・分類します。 -->

- 新規登録時に入力、画面の前にちょっとしたメッセージを表示する

---

## Bugs (不具合)

- [ ] **インクリメンタルキャッシュ更新の検証**
  - `src/backend/05-2_Backend_Write.js` の `addReservationToCache` 使用箇所(L545付近)に「要確認」コメントあり
  - 新規予約時のキャッシュ更新と `rowForCache` のデータ形式を確認

---

## UI Improvements (UI改善)

### セッション終了フロー関連

- [ ] **会計画面のUIを統一**
  - 他の画面との統一感を持たせる

### ダッシュボード関連

### 予約画面関連

- [ ] セッション終了フローの予約画面と似たデザインにする

### 参加者ビュー関連

- [ ] **みんなのよやく・きろく UI/UX検討**
  - 予約と記録の分離を検討
  - 参加者ビューの整理
- [ ] PC表示時のレイアウト調整
- [ ] コンテナの表示幅を広く固定し、スクロールをコンテナ全体に対しておこなうようにする

---

## Features (機能追加)

### ログ関連

- [ ] ユーザーのページ遷移・画面表示ログの取得・可視化

### データ管理関連

- [ ] **`setDataFreshness` 機能の実装**
  - 予約完了時などに再取得を防ぐフラグ管理機能
  - `SimpleStateManager` に `setDataFreshness(key, boolean)` メソッド追加

---

## Refactoring (リファクタリング)

- [ ] 不要なコードを削除する

---

## Completed (完了済み)

<!-- 完了後は日付とともにここに移動 -->

### 2026/01

- [x] **管理者モードでログ内容をアプリ内で確認可能にする**
  - 操作ログビューを追加、参加者ビューから遷移可能
- [x] **ログシートの記載内容改善**
  - ログ詳細(`details`)のキーを定数化(`CONSTANTS`)
  - メッセージ列の内容調整
- [x] **ログビューの改善**
  - ユーザー名クリックで生徒詳細モーダルを表示
- [x] **セッション終了フロー予約画面UI改善**
  - スロットカード: `renderSlotCard` 統一、経験者のみラベル、満席表示改善
  - 日程リスト: よやく済/空き通知とうろく中マーク、満席表示、★おすすめ削除
  - 既存予約: 進むボタンバグ修正、予約済み表示切替、時間選択プルダウン
- [x] **SessionConclusionリファクタリング**
  - `getLessonInfo` 統合、`getSlotDescriptionText` 削除
  - 予約後のけいかく更新バグ修正

### 2025/12

- [x] 売上自動転載バグ修正
- [x] ログシート空行バグ修正
- [x] ログ/予約シート昇順ソート対応
- [x] ログシート自動スクロール機能追加
- [x] きろくカードのシンプル化
- [x] きろくカードのリストビュー化
