<!doctype html>
<html>
  <head>
    <title>HTML内JavaScript - シンプル重複宣言テスト</title>
  </head>
  <body>
    <script>
      // @ts-check

      // シンプル重複宣言アプローチ
      // バックエンドと同じ構造を直接宣言（開発時の型チェック用）
      const CONSTANTS = {
        STATUS: {
          CANCELED: '取消',
          WAITLISTED: '待機',
          CONFIRMED: '確定',
          COMPLETED: '完了',
        },
        UI: {
          HISTORY_INITIAL_RECORDS: 10,
          HISTORY_LOAD_MORE_RECORDS: 10,
          LOADING_MESSAGE_INTERVAL: 2000,
          MODAL_FADE_DURATION: 300,
        },
        MESSAGES: {
          SUCCESS: '成功',
          ERROR: 'エラー',
          CANCEL: 'キャンセル',
          SAVE: '保存する',
          EDIT: '編集',
        },
      };

      // 短縮参照
      const STATUS = CONSTANTS.STATUS;
      const UI = CONSTANTS.UI;
      const MESSAGES = CONSTANTS.MESSAGES;

      // 基本型エラーテスト
      /** @type {string} */
      const testString = 'Hello';
      /** @type {string} */
      const wrongType = 123; // 型エラーになるはず

      // ✅ 正常なアクセス
      console.log(CONSTANTS.STATUS.CONFIRMED);
      console.log(STATUS.CONFIRMED);
      console.log(UI.HISTORY_INITIAL_RECORDS);
      console.log(MESSAGES.SAVE);

      // ❌ 存在しないプロパティ - エラーになるはず
      console.log(CONSTANTS.STATUS.INVALID_STATUS); // タイポエラー
      console.log(STATUS.CONFIMED); // タイポエラー（CONFIRMED）
      console.log(UI.NON_EXISTENT_SETTING); // 存在しないプロパティ
      console.log(MESSAGES.UNKNOWN_MESSAGE); // 存在しないプロパティ
    </script>
  </body>
</html>
